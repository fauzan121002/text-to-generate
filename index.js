const chalk = require('chalk')
const figlet = require('figlet')
const inquirer = require('inquirer')
const logicProcess = require('./process.js')
const spongebob = require('./spongebobcase.js')

////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////

module.exports = function(){
	let CLIinterface = () => {
	console.log(chalk.red(figlet.textSync('TEXT GENERATOR',{})))
	console.log(chalk.white('Author : https://www.facebook.com/profile.php?id=100038949079067 (Muhammad Fauzan)'))
	console.log(chalk.white('Looking for source code ? npm i text-generator.id@1.0.0'))

	console.log(`
		Fitur Text Generator yang tersedia :
		1. ilih text
		2. spongebob case text
		3. uppercase text
		4. lowercase text
		5. keluar (Ctrl+C)
	`)

	let generator = () => {
		inquirer
		.prompt(logicProcess.question)
		.then(rules => {
			let pilihan = rules.pilihan

			if(pilihan == 1){
				console.log(rules.teks.replace(/[aeuo]/gi,"i"))
				inquirer.prompt([{
					name: 'continue',
					type: 'input',
					message: 'continue? Y/N'
				}])
				.then(rules => {
					if(rules.continue == 'Y')
					{
						CLIinterface()
					}
					else
					{
						process.exit
					}
				})
			}
			else if(pilihan == 2){
				console.log(spongebob(rules.teks))
				inquirer.prompt([{
					name: 'continue',
					type: 'input',
					message: 'continue? Y/N'
				}])
				.then(rules => {
					if(rules.continue == 'Y')
					{
						CLIinterface()
					}
					else
					{
						process.exit
					}
				})			}
			else if(pilihan == 3){
				console.log(rules.teks.toUpperCase())
				inquirer.prompt([{
					name: 'continue',
					type: 'input',
					message: 'continue? Y/N'
				}])
				.then(rules => {
					if(rules.continue == 'Y')
					{
						CLIinterface()
					}
					else
					{
						process.exit
					}
				})
			}
			else if(pilihan == 4){
				console.log(rules.teks.toLowerCase())
				inquirer.prompt([{
					name: 'continue',
					type: 'input',
					message: 'continue? Y/N'
				}])
				.then(rules => {
					if(rules.continue == 'Y')
					{
						CLIinterface()
					}
					else
					{
						process.exit
					}
				})
			}
			else{
				process.stdout.write('\033c')
				console.log(chalk.red("Mohon input pilihan dengan benar!"))
				CLIinterface()
			}
		})
	}

	generator()

}

CLIinterface()
}